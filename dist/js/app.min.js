(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=document.querySelector(".audio"),n=document.querySelector(".buttons__play"),i=document.querySelector(".end-time"),o=document.querySelector(".seek-slider"),r=document.querySelector(".current-time"),a=document.querySelector(".mute"),c=document.querySelector(".cover"),l=document.querySelector(".title__song-name"),d=document.querySelector(".title__song-artist"),u=document.querySelector(".loop");let s=!1,m=[{artist:"Coldplay",songName:"A Sky Full of Stars",audioSrc:"https://upload.wikimedia.org/wikipedia/en/d/d2/Coldplay_-_A_Sky_Full_of_Stars_sample.ogg",imgSrc:"./img/pictures/Coldplay_-_A_Sky_Full_of_Stars_(Single).png"},{artist:"Lana Del Rey",songName:"Summertime Sadness",audioSrc:"https://upload.wikimedia.org/wikipedia/en/c/c0/Lana_Del_Rey_-_Summertime_Sadness.ogg",imgSrc:"./img/pictures/SummertimeSadnessOfficial.png"},{artist:"Linkin Park",songName:"In the End",audioSrc:"https://upload.wikimedia.org/wikipedia/en/4/48/In_the_End.ogg",imgSrc:"./img/pictures/LinkinParkIntheEnd.jpg"}];t.addEventListener("loadedmetadata",(()=>{g(),i.textContent=S(t.duration),s=!0}));const g=()=>{o.max=Math.floor(t.duration)};const S=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?`0${n}`:`${n}`}`};n.addEventListener("click",_);let p=!1;function _(){0==p&&1==s?(p=!0,t.play(),n.classList.toggle("active")):1==p&&(t.pause(),p=!1,n.classList.toggle("active"))}o.addEventListener("input",(()=>{r.textContent=S(o.value)})),o.addEventListener("change",(()=>{t.currentTime=o.value}));let y=0;function v(){y>m.length-1&&(y=0),y<0&&(y=0),c.src=m[y].imgSrc,l.innerHTML=m[y].songName,d.innerHTML=m[y].artist,t.src=m[y].audioSrc}t.addEventListener("timeupdate",(()=>{o.value=Math.floor(t.currentTime),r.textContent=S(o.value),t.ended&&(t.currentTime=0,n.classList.toggle("active"),p=!1,y++,v(),_())})),m.forEach(v),u.addEventListener("click",(function(){document.querySelector(".loop__icon").classList.toggle("active"),t.hasAttribute("loop")?(t.removeAttribute("loop"),L=!1):(L=!0,t.setAttribute("loop","true"))}));let L=!1;const A=document.querySelector(".buttons__prev");document.querySelector(".buttons__next").addEventListener("click",(function(){y++,v(),(p=!0)&&t.play();t.currentTime=0,n.classList.add("active")})),A.addEventListener("click",(function(){y--,v(),(p=!0)&&t.play();t.play(),t.currentTime=0,n.classList.add("active")})),a.addEventListener("click",(function(){a.classList.toggle("active"),t.muted=!t.muted})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();