(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=document.querySelector(".audio"),i=document.querySelector(".buttons__play"),a=document.querySelector(".end-time"),n=document.querySelector(".seek-slider"),o=document.querySelector(".current-time"),l=document.querySelector(".mute"),s=document.querySelector(".cover"),c=document.querySelector(".title__song-name"),r=document.querySelector(".title__song-artist"),d=document.querySelector(".loop"),u=document.querySelector(".cover__blur");let m=!1,g=[{artist:"Coldplay",songName:"A Sky Full of Stars",audioSrc:"https://upload.wikimedia.org/wikipedia/en/d/d2/Coldplay_-_A_Sky_Full_of_Stars_sample.ogg",imgSrc:"./img/pictures/Coldplay_-_A_Sky_Full_of_Stars_(Single).png"},{artist:"Lana Del Rey",songName:"Summertime Sadness",audioSrc:"https://upload.wikimedia.org/wikipedia/en/c/c0/Lana_Del_Rey_-_Summertime_Sadness.ogg",imgSrc:"./img/pictures/SummertimeSadnessOfficial.png"},{artist:"Linkin Park",songName:"In the End",audioSrc:"https://upload.wikimedia.org/wikipedia/en/4/48/In_the_End.ogg",imgSrc:"./img/pictures/LinkinParkIntheEnd.jpg"},{artist:"Eminem",songName:"Godzilla",audioSrc:"https://upload.wikimedia.org/wikipedia/en/e/ec/Eminem_-_Godzilla_featuring_Juice_Wrld.ogg",imgSrc:"./img/pictures/Godzilla.jpg"},{artist:"Dua Lipa",songName:"Don't Start Now",audioSrc:"https://upload.wikimedia.org/wikipedia/en/7/7e/Dua_Lipa_Don%27t_Start_Now.ogg",imgSrc:"./img/pictures/Dua_Lipa_-_Don't_Start_Now.png"},{artist:"Mark Ronson",songName:"Uptown Funk",audioSrc:"https://upload.wikimedia.org/wikipedia/en/f/fd/Uptown_Funk.ogg",imgSrc:"./img/pictures/Mark_Ronson_-_Uptown_Funk_(feat._Bruno_Mars)_(Official_Single_Cover).png"},{artist:"Adele",songName:"Hello",audioSrc:"https://upload.wikimedia.org/wikipedia/en/f/f4/Adele_-_Hello_Clip.ogg",imgSrc:"./img/pictures/Adele_-_Hello_(Official_Single_Cover).png"},{artist:"Beatles",songName:"All you need is love",audioSrc:"https://upload.wikimedia.org/wikipedia/en/2/29/All_You_Need_Is_Love.ogg",imgSrc:"./img/pictures/All_You_Need_Is_Love_(Beatles_single_-_cover_art).jpg"}];t.addEventListener("loadedmetadata",(()=>{_(),a.textContent=p(t.duration),m=!0}));const _=()=>{n.max=Math.floor(t.duration)};const p=e=>{const t=Math.floor(e/60),i=Math.floor(e%60);return`${t}:${i<10?`0${i}`:`${i}`}`};i.addEventListener("click",v);let S=!1;function v(){0==S&&1==m?(S=!0,t.play(),i.classList.toggle("active"),s.classList.toggle("active")):1==S&&(t.pause(),S=!1,i.classList.toggle("active"),s.classList.toggle("active"))}n.addEventListener("input",(()=>{o.textContent=p(n.value)})),n.addEventListener("change",(()=>{t.currentTime=n.value}));let L=0;t.addEventListener("timeupdate",(()=>{n.value=Math.floor(t.currentTime),o.textContent=p(n.value),t.ended&&(t.currentTime=0,i.classList.toggle("active"),s.classList.toggle("active"),S=!1,L++,k(),v())}));const y=document.querySelector(".main__like");let f=[];function k(){L>g.length-1&&(L=0),L<0&&(L=0),f.includes(L)?y.classList.add("active"):f.includes(L)||y.classList.remove("active"),u.src=g[L].imgSrc,s.src=g[L].imgSrc,c.innerHTML=g[L].songName,r.innerHTML=g[L].artist,t.src=g[L].audioSrc}y.addEventListener("click",(()=>{if(f.includes(L))for(let e=0;e<f.length;e++)f[e]===L&&(f.splice(e,1),y.classList.remove("active"));else y.classList.add("active"),f.push(L)})),g.forEach(k),d.addEventListener("click",(function(){document.querySelector(".loop__icon").classList.toggle("active"),t.hasAttribute("loop")?(t.removeAttribute("loop"),w=!1):(w=!0,t.setAttribute("loop","true"))}));let w=!1;const h=document.querySelector(".buttons__prev");document.querySelector(".buttons__next").addEventListener("click",(function(){L++,k(),(S=!0)&&t.play();t.currentTime=0,i.classList.add("active"),s.classList.add("active")})),h.addEventListener("click",(function(){L--,k(),(S=!0)&&t.play();t.play(),t.currentTime=0,i.classList.add("active"),s.classList.add("active")})),l.addEventListener("click",(function(){l.classList.toggle("active"),t.muted=!t.muted}));const A=document.querySelector(".main__btnplaylist"),E=document.querySelector(".main_playlist");function q(){E.classList.toggle("active")}A.addEventListener("click",q),g.forEach(((e,t)=>{let i=document.createElement("li");i.classList.add("playlist__item"),i.insertAdjacentHTML("afterbegin",`\n    <div class="playlist__number">${t+1}</div>\n    <img class="playlist__cover" src="${e.imgSrc}" alt="Picture cover">\n    <div class="playlist__titles">\n        <h2 class="playlist__song-name">${e.songName}</h2>\n        <h3 class="playlist__song-artist">${e.artist}</h3>\n    </div>`),E.appendChild(i)}));const b=document.querySelectorAll(".playlist__item");for(let e=0;e<b.length;e++)b[e].addEventListener("click",(()=>{L=e,k(),(S=!0)&&t.play(),t.currentTime=0,i.classList.add("active"),s.classList.add("active"),q()}));document.addEventListener("mousemove",(function(e){this.querySelectorAll(".mouse").forEach((t=>{const i=t.getAttribute("value"),a=(window.innerWidth-e.pageX*i)/90,n=(window.innerHeight-e.pageY*i)/90;t.style.transform=`translateX(${a}px) translateY(${n}px)`}))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();