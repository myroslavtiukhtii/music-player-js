(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=document.querySelector(".audio"),n=document.querySelector(".buttons__play"),o=document.querySelector(".end-time"),i=document.querySelector(".seek-slider"),r=document.querySelector(".current-time"),c=document.querySelector(".mute"),a=document.querySelector(".cover"),l=document.querySelector(".title__song-name"),d=document.querySelector(".title__song-artist"),u=document.querySelector(".loop"),s=document.querySelector(".cover__blur");let m=!1,g=[{artist:"Coldplay",songName:"A Sky Full of Stars",audioSrc:"https://upload.wikimedia.org/wikipedia/en/d/d2/Coldplay_-_A_Sky_Full_of_Stars_sample.ogg",imgSrc:"./img/pictures/Coldplay_-_A_Sky_Full_of_Stars_(Single).png"},{artist:"Lana Del Rey",songName:"Summertime Sadness",audioSrc:"https://upload.wikimedia.org/wikipedia/en/c/c0/Lana_Del_Rey_-_Summertime_Sadness.ogg",imgSrc:"./img/pictures/SummertimeSadnessOfficial.png"},{artist:"Linkin Park",songName:"In the End",audioSrc:"https://upload.wikimedia.org/wikipedia/en/4/48/In_the_End.ogg",imgSrc:"./img/pictures/LinkinParkIntheEnd.jpg"}];t.addEventListener("loadedmetadata",(()=>{S(),o.textContent=p(t.duration),m=!0}));const S=()=>{i.max=Math.floor(t.duration)};const p=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?`0${n}`:`${n}`}`};n.addEventListener("click",y);let _=!1;function y(){0==_&&1==m?(_=!0,t.play(),n.classList.toggle("active")):1==_&&(t.pause(),_=!1,n.classList.toggle("active"))}i.addEventListener("input",(()=>{r.textContent=p(i.value)})),i.addEventListener("change",(()=>{t.currentTime=i.value}));let v=0;function L(){v>g.length-1&&(v=0),v<0&&(v=0),s.src=g[v].imgSrc,a.src=g[v].imgSrc,l.innerHTML=g[v].songName,d.innerHTML=g[v].artist,t.src=g[v].audioSrc}t.addEventListener("timeupdate",(()=>{i.value=Math.floor(t.currentTime),r.textContent=p(i.value),t.ended&&(t.currentTime=0,n.classList.toggle("active"),_=!1,v++,L(),y())})),g.forEach(L),u.addEventListener("click",(function(){document.querySelector(".loop__icon").classList.toggle("active"),t.hasAttribute("loop")?(t.removeAttribute("loop"),A=!1):(A=!0,t.setAttribute("loop","true"))}));let A=!1;const f=document.querySelector(".buttons__prev");document.querySelector(".buttons__next").addEventListener("click",(function(){v++,L(),(_=!0)&&t.play();t.currentTime=0,n.classList.add("active")})),f.addEventListener("click",(function(){v--,L(),(_=!0)&&t.play();t.play(),t.currentTime=0,n.classList.add("active")})),c.addEventListener("click",(function(){c.classList.toggle("active"),t.muted=!t.muted})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();